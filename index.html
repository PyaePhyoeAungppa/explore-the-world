<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cities Carousel</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700;900&family=Inter:wght@300;400;600&display=swap');
        
        body {
            font-family: 'Inter', sans-serif;
            background: #f8f6ed;
        }
        
        h1, h2 {
            font-family: 'Playfair Display', serif;
        }
        
        .carousel-container {
            perspective: 1200px;
        }
        
        .city-slide {
            transition: all 0.6s cubic-bezier(0.4, 0, 0.2, 1);
            position: absolute;
            top: 50%;
            left: 50%;
            transform-style: preserve-3d;
            cursor: pointer;
        }
        
        .city-slide.center {
            transform: translate(-50%, -50%) scale(1) rotateY(0deg);
            z-index: 30;
            opacity: 1;
        }
        
        .city-slide.left {
            transform: translate(-180%, -50%) scale(0.75) rotateY(15deg);
            z-index: 10;
            opacity: 0.3;
        }
        
        .city-slide.right {
            transform: translate(80%, -50%) scale(0.75) rotateY(-15deg);
            z-index: 10;
            opacity: 0.3;
        }
        
        .city-slide.hidden-left {
            transform: translate(-300%, -50%) scale(0.5) rotateY(20deg);
            z-index: 1;
            opacity: 0;
            pointer-events: none;
        }
        
        .city-slide.hidden-right {
            transform: translate(200%, -50%) scale(0.5) rotateY(-20deg);
            z-index: 1;
            opacity: 0;
            pointer-events: none;
        }
        
        .city-image {
            border-radius: 2rem;
            transition: all 0.6s ease;
        }
        
        .city-slide.center .city-image {
        }
        
        .nav-button {
            transition: background 0.3s ease;
            backdrop-filter: blur(10px);
        }
        
        .info-panel {
            transition: all 0.6s cubic-bezier(0.4, 0, 0.2, 1);
            opacity: 0;
            transform: translateY(30px);
        }
        
        .info-panel.active {
            opacity: 1;
            transform: translateY(0);
        }
        
        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        .fade-in {
            animation: fadeIn 0.6s ease-out forwards;
        }
        
        .city-label {
            transition: all 0.6s cubic-bezier(0.4, 0, 0.2, 1);
            opacity: 0;
        }
        
        .city-slide.center .city-label {
            opacity: 1;
        }
        
        .modal-overlay {
            position: fixed;
            inset: 0;
            background: rgba(139, 92, 46, 0.4);
            backdrop-filter: blur(10px);
            z-index: 100;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.3s ease;
        }
        
        .modal-overlay.active {
            opacity: 1;
            pointer-events: all;
        }
        
        .modal-content {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%) scale(0.8);
            z-index: 101;
            opacity: 0;
            pointer-events: none;
            transition: all 0.5s cubic-bezier(0.34, 1.56, 0.64, 1);
            width: 98vw;
            max-width: 900px;
            max-height: 95vh;
            overflow-y: auto;
        }
        
        @media (min-width: 768px) {
            .modal-content {
                width: 90vw;
            }
        }
        
        .modal-content.active {
            transform: translate(-50%, -50%) scale(1);
            opacity: 1;
            pointer-events: all;
        }
        
        .close-button {
            transition: all 0.3s ease;
            background: rgba(120, 53, 15, 0.9);
        }
        
        .close-button:hover {
            background: rgba(146, 64, 14, 1);
            transform: rotate(90deg);
        }
    </style>
</head>
<body class="min-h-screen flex flex-col items-center justify-center p-4 overflow-hidden">
    
    <!-- Header -->
    <div class="text-center mb-8 md:mb-10 fade-in">
        <h1 class="text-4xl md:text-6xl lg:text-7xl font-black mb-3 drop-shadow-lg bg-gradient-to-r from-amber-800 via-orange-700 to-rose-700 bg-clip-text text-transparent px-4">
            Explore Cities
        </h1>
        <p class="text-amber-900/70 text-base md:text-lg font-medium flex items-center justify-center gap-2">
            <i class="fas fa-map-marked-alt text-sm md:text-base"></i>
            Choose Your Destination
        </p>
    </div>

    <!-- Carousel -->
    <div class="carousel-container relative w-full h-80 md:h-96 lg:h-[480px] mb-10 md:mb-12">
        <div id="carousel" class="relative w-full h-full">
            <!-- Slides will be injected here by JavaScript -->
        </div>
        
        <!-- Navigation Buttons -->
        <button id="prevBtn" class="nav-button absolute left-2 md:left-8 lg:left-12 top-1/2 -translate-y-1/2 z-40 bg-amber-100/80 text-amber-900 rounded-full shadow-xl backdrop-blur-sm border border-amber-200 w-12 h-12 md:w-14 md:h-14 flex items-center justify-center">
            <i class="fas fa-chevron-left text-lg md:text-xl"></i>
        </button>
        <button id="nextBtn" class="nav-button absolute right-2 md:right-8 lg:right-12 top-1/2 -translate-y-1/2 z-40 bg-amber-100/80 text-amber-900 rounded-full shadow-xl backdrop-blur-sm border border-amber-200 w-12 h-12 md:w-14 md:h-14 flex items-center justify-center">
            <i class="fas fa-chevron-right text-lg md:text-xl"></i>
        </button>
    </div>

    <!-- Info Panel -->
    <div class="w-full max-w-4xl px-4">
        <div id="infoPanel" class="info-panel bg-gradient-to-br from-amber-50/80 to-orange-50/80 backdrop-blur-xl rounded-3xl p-6 md:p-8 border border-amber-200/50 shadow-2xl">
            <h2 id="cityName" class="text-3xl md:text-4xl lg:text-5xl font-black bg-gradient-to-r from-amber-800 to-orange-700 bg-clip-text text-transparent mb-2 md:mb-3"></h2>
            <p id="citySubtitle" class="text-lg md:text-xl text-amber-900/70 mb-4 md:mb-6"></p>
            <div class="grid grid-cols-2 md:grid-cols-3 gap-3 md:gap-4 mb-4 md:mb-6">
                <div class="bg-white/60 rounded-xl p-3 md:p-4 backdrop-blur-sm border border-amber-200/50">
                    <div class="text-amber-800/70 text-xs md:text-sm mb-1 flex items-center gap-1 md:gap-2">
                        <i class="fas fa-users"></i>
                        Population
                    </div>
                    <div id="cityPop" class="text-amber-900 text-base md:text-xl font-bold"></div>
                </div>
                <div class="bg-white/60 rounded-xl p-3 md:p-4 backdrop-blur-sm border border-amber-200/50">
                    <div class="text-amber-800/70 text-xs md:text-sm mb-1 flex items-center gap-1 md:gap-2">
                        <i class="fas fa-flag"></i>
                        Country
                    </div>
                    <div id="cityCountry" class="text-amber-900 text-base md:text-xl font-bold"></div>
                </div>
                <div class="bg-white/60 rounded-xl p-3 md:p-4 backdrop-blur-sm col-span-2 md:col-span-1 border border-amber-200/50">
                    <div class="text-amber-800/70 text-xs md:text-sm mb-1 flex items-center gap-1 md:gap-2">
                        <i class="fas fa-star"></i>
                        Nickname
                    </div>
                    <div id="cityNickname" class="text-amber-900 text-base md:text-xl font-bold"></div>
                </div>
            </div>
            <p id="cityDescription" class="text-amber-900/80 text-sm md:text-base leading-relaxed flex gap-2">
                <i class="fas fa-info-circle text-amber-700 mt-1 flex-shrink-0"></i>
                <span id="descriptionText"></span>
            </p>
        </div>
    </div>

    <!-- Dots Navigation -->
    <div id="dotsContainer" class="flex gap-3 mt-6 md:mt-8">
        <!-- Dots will be injected here -->
    </div>

    <script>
        const cities = [
            {
                name: "New York City",
                subtitle: "The Big Apple",
                image: "cities/NYC.png",
                population: "8.3 million",
                country: "USA",
                nickname: "The City That Never Sleeps",
                description: "Manhattan's iconic skyline rises like a forest of steel and glass, with Central Park's emerald expanse offering a breath of nature amidst the urban jungle. From Times Square to the Statue of Liberty, NYC pulses with unmatched energy."
            },
            {
                name: "London",
                subtitle: "Royal Capital",
                image: "cities/London.png",
                population: "9 million",
                country: "United Kingdom",
                nickname: "The Big Smoke",
                description: "Where history meets modernity, the Thames winds through centuries of architecture. From the Tower of London to the Shard, this city creates a stunning tapestry of time, blending royal heritage with contemporary innovation."
            },
            {
                name: "Singapore",
                subtitle: "Garden City",
                image: "cities/Singapore.png",
                population: "5.9 million",
                country: "Singapore",
                nickname: "Lion City",
                description: "A garden city in the tropics where futuristic supertrees and gleaming skyscrapers blend seamlessly with lush greenery. Marina Bay Sands stands as an iconic symbol of this urban oasis that harmonizes nature and architecture."
            },
            {
                name: "Dubai",
                subtitle: "Desert Jewel",
                image: "cities/Dubai.png",
                population: "3.6 million",
                country: "UAE",
                nickname: "City of Gold",
                description: "Rising from the desert sands, a marvel of human ambition. The Burj Khalifa pierces the clouds while artificial islands reshape the coastline. Dubai represents the pinnacle of modern engineering and luxury."
            },
            {
                name: "Rome",
                subtitle: "The Eternal City",
                image: "cities/Rome.png",
                population: "2.8 million",
                country: "Italy",
                nickname: "Caput Mundi",
                description: "An open-air museum spanning millennia, where ancient ruins stand proud among terracotta rooftops. Every corner whispers tales of emperors, artists, and gladiators. The Colosseum and Vatican remain timeless testaments to human achievement."
            }
        ];

        let currentIndex = 0;
        const carousel = document.getElementById('carousel');
        const infoPanel = document.getElementById('infoPanel');
        const dotsContainer = document.getElementById('dotsContainer');

        // Create slides
        cities.forEach((city, index) => {
            const slide = document.createElement('div');
            slide.className = 'city-slide';
            slide.innerHTML = `
                <div>
                    <img src="${city.image}" alt="${city.name}" class="city-image w-56 h-56 sm:w-64 sm:h-64 md:w-80 md:h-80 lg:w-96 lg:h-96 object-cover">
                    <div class="city-label text-center mt-3 md:mt-4">
                        <h3 class="text-xl md:text-2xl font-bold text-amber-900 drop-shadow-sm">${city.name}</h3>
                    </div>
                </div>
            `;
            slide.onclick = () => openModal(index);
            carousel.appendChild(slide);
        });

        // Create dots
        cities.forEach((city, index) => {
            const dot = document.createElement('button');
            dot.className = 'w-3 h-3 rounded-full transition-all duration-300';
            dot.onclick = () => goToSlide(index);
            dotsContainer.appendChild(dot);
        });

        function updateCarousel() {
            const slides = document.querySelectorAll('.city-slide');
            const dots = document.querySelectorAll('#dotsContainer button');
            
            slides.forEach((slide, index) => {
                slide.classList.remove('center', 'left', 'right', 'hidden-left', 'hidden-right');
                
                if (index === currentIndex) {
                    slide.classList.add('center');
                } else if (index === (currentIndex - 1 + cities.length) % cities.length) {
                    slide.classList.add('left');
                } else if (index === (currentIndex + 1) % cities.length) {
                    slide.classList.add('right');
                } else if (index < currentIndex) {
                    slide.classList.add('hidden-left');
                } else {
                    slide.classList.add('hidden-right');
                }
            });

            // Update dots
            dots.forEach((dot, index) => {
                if (index === currentIndex) {
                    dot.className = 'w-8 h-3 rounded-full bg-amber-800 shadow-lg transition-all duration-300';
                } else {
                    dot.className = 'w-3 h-3 rounded-full bg-amber-300 hover:bg-amber-400 transition-all duration-300';
                }
            });

            updateInfo();
        }

        function updateInfo() {
            const city = cities[currentIndex];
            
            // Add transition effect
            infoPanel.classList.remove('active');
            
            setTimeout(() => {
                document.getElementById('cityName').textContent = city.name;
                document.getElementById('citySubtitle').textContent = city.subtitle;
                document.getElementById('cityPop').textContent = city.population;
                document.getElementById('cityCountry').textContent = city.country;
                document.getElementById('cityNickname').textContent = city.nickname;
                document.getElementById('descriptionText').textContent = city.description;
                
                infoPanel.classList.add('active');
            }, 200);
        }

        function nextSlide() {
            currentIndex = (currentIndex + 1) % cities.length;
            updateCarousel();
        }

        function prevSlide() {
            currentIndex = (currentIndex - 1 + cities.length) % cities.length;
            updateCarousel();
        }

        function goToSlide(index) {
            currentIndex = index;
            updateCarousel();
        }

        document.getElementById('nextBtn').addEventListener('click', nextSlide);
        document.getElementById('prevBtn').addEventListener('click', prevSlide);

        // Keyboard navigation
        document.addEventListener('keydown', (e) => {
            if (e.key === 'ArrowLeft') prevSlide();
            if (e.key === 'ArrowRight') nextSlide();
        });

        // Touch/swipe support
        let touchStartX = 0;
        let touchEndX = 0;

        carousel.addEventListener('touchstart', (e) => {
            touchStartX = e.changedTouches[0].screenX;
        });

        carousel.addEventListener('touchend', (e) => {
            touchEndX = e.changedTouches[0].screenX;
            if (touchStartX - touchEndX > 50) nextSlide();
            if (touchEndX - touchStartX > 50) prevSlide();
        });

        // Initialize
        updateCarousel();
        
        // Modal functionality
        const modalOverlay = document.createElement('div');
        modalOverlay.className = 'modal-overlay';
        document.body.appendChild(modalOverlay);
        
        const modalContent = document.createElement('div');
        modalContent.className = 'modal-content';
        document.body.appendChild(modalContent);
        
        function openModal(index) {
            const city = cities[index];
            modalContent.innerHTML = `
                <div class="bg-gradient-to-br from-amber-50 to-orange-50 rounded-xl md:rounded-2xl lg:rounded-3xl overflow-hidden border-2 border-amber-200 shadow-2xl w-full h-full">
                    <div class="relative">
                        <button class="close-button absolute top-2 right-2 md:top-4 md:right-4 z-10 text-amber-50 rounded-full shadow-xl w-9 h-9 md:w-12 md:h-12 flex items-center justify-center">
                            <i class="fas fa-times text-base md:text-xl"></i>
                        </button>
                        <div class="flex items-center justify-center p-3 md:p-6 lg:p-8" style="background-color: #f8f6ed;">
                            <img src="${city.image}" alt="${city.name}" class="rounded-lg md:rounded-xl lg:rounded-2xl max-w-full w-full md:max-w-md">
                        </div>
                    </div>
                    <div class="p-4 md:p-6 lg:p-8">
                        <h2 class="text-2xl sm:text-3xl md:text-4xl lg:text-5xl font-black bg-gradient-to-r from-amber-800 to-orange-700 bg-clip-text text-transparent mb-2">
                            ${city.name}
                        </h2>
                        <p class="text-sm sm:text-base md:text-lg lg:text-xl text-amber-900/70 mb-4 md:mb-6 flex items-center gap-2">
                            <i class="fas fa-map-pin text-amber-600 text-xs sm:text-sm md:text-base"></i>
                            ${city.subtitle}
                        </p>
                        <div class="grid grid-cols-3 gap-2 sm:gap-3 md:gap-4 mb-4 md:mb-6">
                            <div class="bg-white/60 rounded-lg md:rounded-xl p-2 sm:p-3 md:p-4 backdrop-blur-sm text-center border border-amber-200/50">
                                <div class="text-amber-800/70 text-[10px] sm:text-xs md:text-sm mb-1 flex flex-col items-center justify-center gap-0.5 md:gap-1">
                                    <i class="fas fa-users text-xs sm:text-sm"></i>
                                    <span class="hidden xs:inline sm:hidden md:inline">Population</span>
                                    <span class="xs:hidden sm:inline md:hidden">Pop</span>
                                </div>
                                <div class="text-amber-900 text-xs sm:text-sm md:text-base lg:text-lg font-bold break-words">${city.population}</div>
                            </div>
                            <div class="bg-white/60 rounded-lg md:rounded-xl p-2 sm:p-3 md:p-4 backdrop-blur-sm text-center border border-amber-200/50">
                                <div class="text-amber-800/70 text-[10px] sm:text-xs md:text-sm mb-1 flex flex-col items-center justify-center gap-0.5 md:gap-1">
                                    <i class="fas fa-flag text-xs sm:text-sm"></i>
                                    <span>Country</span>
                                </div>
                                <div class="text-amber-900 text-xs sm:text-sm md:text-base lg:text-lg font-bold break-words">${city.country}</div>
                            </div>
                            <div class="bg-white/60 rounded-lg md:rounded-xl p-2 sm:p-3 md:p-4 backdrop-blur-sm text-center border border-amber-200/50">
                                <div class="text-amber-800/70 text-[10px] sm:text-xs md:text-sm mb-1 flex flex-col items-center justify-center gap-0.5 md:gap-1">
                                    <i class="fas fa-star text-xs sm:text-sm"></i>
                                    <span class="hidden sm:inline">Nickname</span>
                                    <span class="sm:hidden">Name</span>
                                </div>
                                <div class="text-amber-900 text-xs sm:text-sm md:text-base lg:text-lg font-bold break-words">${city.nickname}</div>
                            </div>
                        </div>
                        <div class="bg-white/40 rounded-lg md:rounded-xl p-3 sm:p-4 md:p-5 border border-amber-200/50">
                            <p class="text-amber-900/80 text-xs sm:text-sm md:text-base lg:text-lg leading-relaxed flex gap-2 md:gap-3">
                                <i class="fas fa-info-circle text-amber-700 mt-0.5 sm:mt-1 flex-shrink-0 text-xs sm:text-sm md:text-base"></i>
                                <span>${city.description}</span>
                            </p>
                        </div>
                    </div>
                </div>
            `;
            
            modalOverlay.classList.add('active');
            modalContent.classList.add('active');
            
            const closeButton = modalContent.querySelector('.close-button');
            closeButton.onclick = closeModal;
            modalOverlay.onclick = closeModal;
        }
        
        function closeModal() {
            modalOverlay.classList.remove('active');
            modalContent.classList.remove('active');
        }
        
        // ESC key to close modal
        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape') closeModal();
        });
    </script>

</body>
</html>